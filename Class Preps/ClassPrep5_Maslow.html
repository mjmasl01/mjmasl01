<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.547">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Matt Maslow">

<title>Class Prep 5</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="ClassPrep5_Maslow_files/libs/clipboard/clipboard.min.js"></script>
<script src="ClassPrep5_Maslow_files/libs/quarto-html/quarto.js"></script>
<script src="ClassPrep5_Maslow_files/libs/quarto-html/popper.min.js"></script>
<script src="ClassPrep5_Maslow_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="ClassPrep5_Maslow_files/libs/quarto-html/anchor.min.js"></script>
<link href="ClassPrep5_Maslow_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="ClassPrep5_Maslow_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="ClassPrep5_Maslow_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="ClassPrep5_Maslow_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="ClassPrep5_Maslow_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Class Prep 5</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Matt Maslow </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="exercise-1" class="level1">
<h1>Exercise 1:</h1>
<p><em>For each of the core dplyr functions mutate(), arrange(), select(), slice(), filter(), group_by(), and summarise(), write a one sentence summary of the overall purpose of the function.</em></p>
<p><strong>mutate()</strong>- Allows users to manipulate/change/add variables in the data set.</p>
<p><strong>arrange()</strong>-This will order the imputed argument, or given variable, alpha-numerically, and rest of cols/vars sort themselves accordingly.</p>
<p><strong>select()</strong>-Allows users to pick which variables they want to view in their final output.</p>
<p><strong>slice()</strong>-Allows users to split the data at “n” number of rows, creating a separate data set from original.</p>
<p><strong>filter()</strong>-This allows users to specify what they see in their final output, such as only looking at specific category/level for a particular variable.</p>
<p><strong>group_by()</strong>-Allows users to categorize the data into groups.</p>
<p><strong>summarise()</strong>-Produces tibble of imputed information that can be either displayed or stored, and common used to show descriptive statistics of particular variable(s) or data.</p>
</section>
<section id="exercise-2" class="level1">
<h1>Exercise 2:</h1>
<p><em>Review mutate(). Create a new variable in hpi_df that is equal to Wellbeing / Footprint.</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.2     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.2     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.1     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>hpi_df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/hpi-tidy.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 151 Columns: 11
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (3): Country, GovernanceRank, Region
dbl (8): HPIRank, LifeExpectancy, Wellbeing, HappyLifeYears, Footprint, Happ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>hpi_df <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">WellB_FootP =</span> Wellbeing<span class="sc">/</span>Footprint) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(WellB_FootP, Wellbeing, Footprint)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 151 × 12
   WellB_FootP Wellbeing Footprint HPIRank Country LifeExpectancy HappyLifeYears
         &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;            &lt;dbl&gt;          &lt;dbl&gt;
 1       8.81       4.76     0.540     109 Afghan…           48.7           29.0
 2       2.91       5.27     1.81       18 Albania           76.9           48.8
 3       3.18       5.24     1.65       26 Algeria           73.1           46.2
 4       4.72       4.21     0.891     127 Angola            51.1           28.2
 5       2.38       6.44     2.71       17 Argent…           75.9           55.0
 6       2.52       4.37     1.73       53 Armenia           74.2           41.9
 7       1.11       7.41     6.68       76 Austra…           81.9           65.5
 8       1.39       7.35     5.29       48 Austria           80.9           64.3
 9       2.14       4.22     1.97       80 Azerba…           70.7           39.1
10       0.685      4.55     6.65      146 Bahrain           75.1           43.5
# ℹ 141 more rows
# ℹ 5 more variables: HappyPlanetIndex &lt;dbl&gt;, Population &lt;dbl&gt;,
#   GDPcapita &lt;dbl&gt;, GovernanceRank &lt;chr&gt;, Region &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="exercise-3" class="level1">
<h1>Exercise 3:</h1>
<p><em>Review mutate() and case_when(). Create a new variable in hpi_df that is equal to “80s” if LifeExp is in the 80’s, “70s” if LifeExp is in the 70s, and “Below 70” if LifeExp is less than 70.</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>hpi_df <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">AgeRange =</span> <span class="fu">case_when</span>(</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    LifeExpectancy <span class="sc">&gt;=</span> <span class="dv">80</span> <span class="sc">~</span> <span class="st">"80s"</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    LifeExpectancy <span class="sc">&gt;=</span> <span class="dv">70</span> <span class="sc">~</span> <span class="st">"70s"</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    LifeExpectancy <span class="sc">&lt;</span> <span class="dv">70</span> <span class="sc">~</span> <span class="st">"Below 70"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(AgeRange, LifeExpectancy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 151 × 12
   AgeRange LifeExpectancy HPIRank Country    Wellbeing HappyLifeYears Footprint
   &lt;chr&gt;             &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt;          &lt;dbl&gt;     &lt;dbl&gt;
 1 Below 70           48.7     109 Afghanist…      4.76           29.0     0.540
 2 70s                76.9      18 Albania         5.27           48.8     1.81 
 3 70s                73.1      26 Algeria         5.24           46.2     1.65 
 4 Below 70           51.1     127 Angola          4.21           28.2     0.891
 5 70s                75.9      17 Argentina       6.44           55.0     2.71 
 6 70s                74.2      53 Armenia         4.37           41.9     1.73 
 7 80s                81.9      76 Australia       7.41           65.5     6.68 
 8 80s                80.9      48 Austria         7.35           64.3     5.29 
 9 70s                70.7      80 Azerbaijan      4.22           39.1     1.97 
10 70s                75.1     146 Bahrain         4.55           43.5     6.65 
# ℹ 141 more rows
# ℹ 5 more variables: HappyPlanetIndex &lt;dbl&gt;, Population &lt;dbl&gt;,
#   GDPcapita &lt;dbl&gt;, GovernanceRank &lt;chr&gt;, Region &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="exercise-4." class="level1">
<h1>Exercise 4.</h1>
<p><em>Review arrange(). Sort the hpi_df data so that the country with the highest LifeExp is in the first row and the country with the lowest LifeExp is in the last row.</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>hpi_df <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="sc">-</span>LifeExpectancy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 151 × 11
   HPIRank Country     LifeExpectancy Wellbeing HappyLifeYears Footprint
     &lt;dbl&gt; &lt;chr&gt;                &lt;dbl&gt;     &lt;dbl&gt;          &lt;dbl&gt;     &lt;dbl&gt;
 1      45 Japan                 83.4      6.06           58.0      4.17
 2     102 Hong Kong             82.8      5.64           54.9      5.81
 3      34 Switzerland           82.3      7.52           66.5      5.01
 4      76 Australia             81.9      7.41           65.5      6.68
 5      51 Italy                 81.9      6.35           58.8      4.52
 6      88 Iceland               81.8      6.89           62.1      6.54
 7      15 Israel                81.6      7.36           64.9      3.96
 8      50 France                81.5      6.80           61.3      4.91
 9      62 Spain                 81.4      6.19           57.4      4.74
10      52 Sweden                81.4      7.50           65.6      5.71
# ℹ 141 more rows
# ℹ 5 more variables: HappyPlanetIndex &lt;dbl&gt;, Population &lt;dbl&gt;,
#   GDPcapita &lt;dbl&gt;, GovernanceRank &lt;chr&gt;, Region &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="exercise-5." class="level1">
<h1>Exercise 5.</h1>
<p><em>Review select(). Make a data frame from hpi_df that only has the variables Country and LifeExp.</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>(Country_LifeExp_df <span class="ot">&lt;-</span> hpi_df <span class="sc">%&gt;%</span>  <span class="fu">select</span>(Country, LifeExpectancy)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 151 × 2
   Country     LifeExpectancy
   &lt;chr&gt;                &lt;dbl&gt;
 1 Afghanistan           48.7
 2 Albania               76.9
 3 Algeria               73.1
 4 Angola                51.1
 5 Argentina             75.9
 6 Armenia               74.2
 7 Australia             81.9
 8 Austria               80.9
 9 Azerbaijan            70.7
10 Bahrain               75.1
# ℹ 141 more rows</code></pre>
</div>
</div>
</section>
<section id="exercise-6." class="level1">
<h1>Exercise 6.</h1>
<p><em>Review slice(). Make a data frame from hpi_df that only has the first 5 rows.</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>(First5_hpi <span class="ot">&lt;-</span> hpi_df <span class="sc">%&gt;%</span> <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>))  <span class="sc">%&gt;%</span>pander<span class="sc">::</span><span class="fu">pander</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Table continues below</caption>
<colgroup>
<col style="width: 13%">
<col style="width: 19%">
<col style="width: 23%">
<col style="width: 16%">
<col style="width: 23%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">HPIRank</th>
<th style="text-align: center;">Country</th>
<th style="text-align: center;">LifeExpectancy</th>
<th style="text-align: center;">Wellbeing</th>
<th style="text-align: center;">HappyLifeYears</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">109</td>
<td style="text-align: center;">Afghanistan</td>
<td style="text-align: center;">48.7</td>
<td style="text-align: center;">4.758</td>
<td style="text-align: center;">28.96</td>
</tr>
<tr class="even">
<td style="text-align: center;">18</td>
<td style="text-align: center;">Albania</td>
<td style="text-align: center;">76.9</td>
<td style="text-align: center;">5.269</td>
<td style="text-align: center;">48.77</td>
</tr>
<tr class="odd">
<td style="text-align: center;">26</td>
<td style="text-align: center;">Algeria</td>
<td style="text-align: center;">73.1</td>
<td style="text-align: center;">5.237</td>
<td style="text-align: center;">46.18</td>
</tr>
<tr class="even">
<td style="text-align: center;">127</td>
<td style="text-align: center;">Angola</td>
<td style="text-align: center;">51.1</td>
<td style="text-align: center;">4.206</td>
<td style="text-align: center;">28.21</td>
</tr>
<tr class="odd">
<td style="text-align: center;">17</td>
<td style="text-align: center;">Argentina</td>
<td style="text-align: center;">75.9</td>
<td style="text-align: center;">6.441</td>
<td style="text-align: center;">55.02</td>
</tr>
</tbody>
</table>
<table class="table table-sm table-striped small">
<caption>Table continues below</caption>
<colgroup>
<col style="width: 16%">
<col style="width: 26%">
<col style="width: 17%">
<col style="width: 16%">
<col style="width: 23%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Footprint</th>
<th style="text-align: center;">HappyPlanetIndex</th>
<th style="text-align: center;">Population</th>
<th style="text-align: center;">GDPcapita</th>
<th style="text-align: center;">GovernanceRank</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">0.5403</td>
<td style="text-align: center;">36.75</td>
<td style="text-align: center;">34385000</td>
<td style="text-align: center;">1207</td>
<td style="text-align: center;">150</td>
</tr>
<tr class="even">
<td style="text-align: center;">1.812</td>
<td style="text-align: center;">54.05</td>
<td style="text-align: center;">3205000</td>
<td style="text-align: center;">8592</td>
<td style="text-align: center;">65</td>
</tr>
<tr class="odd">
<td style="text-align: center;">1.648</td>
<td style="text-align: center;">52.18</td>
<td style="text-align: center;">35468000</td>
<td style="text-align: center;">8433</td>
<td style="text-align: center;">118</td>
</tr>
<tr class="even">
<td style="text-align: center;">0.8906</td>
<td style="text-align: center;">33.2</td>
<td style="text-align: center;">19082000</td>
<td style="text-align: center;">6186</td>
<td style="text-align: center;">129</td>
</tr>
<tr class="odd">
<td style="text-align: center;">2.709</td>
<td style="text-align: center;">54.06</td>
<td style="text-align: center;">40412000</td>
<td style="text-align: center;">16012</td>
<td style="text-align: center;">73</td>
</tr>
</tbody>
</table>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 43%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Region</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Middle East and North Africa</td>
</tr>
<tr class="even">
<td style="text-align: center;">Transition States</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Middle East and North Africa</td>
</tr>
<tr class="even">
<td style="text-align: center;">Sub Saharan Africa</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Latin America</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="exercise-7." class="level1">
<h1>Exercise 7.</h1>
<p><em>Review filter(). Make a data frame from hpi_df that only has countries in the “Western World” Region.</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>(WestWrld_hpi <span class="ot">&lt;-</span>hpi_df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Region <span class="sc">==</span> <span class="st">"Western World"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24 × 11
   HPIRank Country   LifeExpectancy Wellbeing HappyLifeYears Footprint
     &lt;dbl&gt; &lt;chr&gt;              &lt;dbl&gt;     &lt;dbl&gt;          &lt;dbl&gt;     &lt;dbl&gt;
 1      76 Australia           81.9      7.41           65.5      6.68
 2      48 Austria             80.9      7.35           64.3      5.29
 3     107 Belgium             80        6.85           60.5      7.11
 4      65 Canada              81        7.65           66.3      6.43
 5      59 Cyprus              79.6      6.39           57.4      4.44
 6     110 Denmark             78.8      7.77           65.2      8.25
 7      70 Finland             80        7.39           63.9      6.21
 8      50 France              81.5      6.80           61.3      4.91
 9      46 Germany             80.4      6.72           60.0      4.57
10      83 Greece              79.9      5.84           54.2      4.92
# ℹ 14 more rows
# ℹ 5 more variables: HappyPlanetIndex &lt;dbl&gt;, Population &lt;dbl&gt;,
#   GDPcapita &lt;dbl&gt;, GovernanceRank &lt;chr&gt;, Region &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="exercise-8." class="level1">
<h1>Exercise 8.</h1>
<p><em>Review filter(). Make a data frame from hpi_df that only has countries with a LifeExp less than 55.</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>(less55LifExp_hpi <span class="ot">&lt;-</span> hpi_df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(LifeExpectancy <span class="sc">&lt;</span> <span class="dv">55</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 19 × 11
   HPIRank Country             LifeExpectancy Wellbeing HappyLifeYears Footprint
     &lt;dbl&gt; &lt;chr&gt;                        &lt;dbl&gt;     &lt;dbl&gt;          &lt;dbl&gt;     &lt;dbl&gt;
 1     109 Afghanistan                   48.7      4.76           29.0     0.540
 2     127 Angola                        51.1      4.21           28.2     0.891
 3     151 Botswana                      53.2      3.55           26.7     2.84 
 4     135 Burundi                       50.4      3.79           26.2     0.845
 5     124 Cameroon                      51.6      4.43           29.4     1.09 
 6     148 Central African Re…           48.4      3.57           24.3     1.36 
 7     150 Chad                          49.6      3.74           25.6     1.89 
 8     134 Congo, Dem. Rep. o…           48.4      3.98           25.9     0.758
 9     137 Guinea                        54.1      4.04           29.2     1.72 
10      72 Malawi                        54.2      5.15           33.9     0.776
11     147 Mali                          51.4      3.76           26.6     1.86 
12     114 Mozambique                    50.2      4.65           29.4     0.784
13     144 Niger                         54.7      4.10           29.8     2.59 
14     125 Nigeria                       51.9      4.76           30.9     1.44 
15     139 Sierra Leone                  47.8      4.13           26.1     1.13 
16     142 South Africa                  52.8      4.65           31.0     2.59 
17     131 Uganda                        54.1      4.19           29.8     1.57 
18      99 Zambia                        49        5.26           31.0     0.841
19     115 Zimbabwe                      51.4      4.85           30.9     1.17 
# ℹ 5 more variables: HappyPlanetIndex &lt;dbl&gt;, Population &lt;dbl&gt;,
#   GDPcapita &lt;dbl&gt;, GovernanceRank &lt;chr&gt;, Region &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="exercise-9." class="level1">
<h1>Exercise 9.</h1>
<p><em>Review group_by() and summarise(). Make a table of the number of countries in each Region. (Hint: recall that the n() function is the counting function in dplyr).</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>hpi_df <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Region) <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Country_Count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  pander<span class="sc">::</span><span class="fu">pander</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 43%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Region</th>
<th style="text-align: center;">Country_Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">East Asia</td>
<td style="text-align: center;">12</td>
</tr>
<tr class="even">
<td style="text-align: center;">Latin America</td>
<td style="text-align: center;">24</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Middle East and North Africa</td>
<td style="text-align: center;">20</td>
</tr>
<tr class="even">
<td style="text-align: center;">South Asia</td>
<td style="text-align: center;">6</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Sub Saharan Africa</td>
<td style="text-align: center;">37</td>
</tr>
<tr class="even">
<td style="text-align: center;">Transition States</td>
<td style="text-align: center;">28</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Western World</td>
<td style="text-align: center;">24</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="exercise-10." class="level1">
<h1>Exercise 10.</h1>
<p><em>Review group_by() and summarise(). Make a table with the maximum LifeExp in each Region.</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>hpi_df <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Region) <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Max_LifeExp =</span> <span class="fu">max</span>(LifeExpectancy)) <span class="sc">%&gt;%</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  pander<span class="sc">::</span><span class="fu">pander</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 43%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Region</th>
<th style="text-align: center;">Max_LifeExp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">East Asia</td>
<td style="text-align: center;">83.4</td>
</tr>
<tr class="even">
<td style="text-align: center;">Latin America</td>
<td style="text-align: center;">79.3</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Middle East and North Africa</td>
<td style="text-align: center;">81.6</td>
</tr>
<tr class="even">
<td style="text-align: center;">South Asia</td>
<td style="text-align: center;">74.9</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Sub Saharan Africa</td>
<td style="text-align: center;">73.4</td>
</tr>
<tr class="even">
<td style="text-align: center;">Transition States</td>
<td style="text-align: center;">79.3</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Western World</td>
<td style="text-align: center;">82.3</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>